<?xml version='1.0' encoding='utf-8'?>
<struct id="plat::rpi::DmaControlBlock" name="DmaControlBlock" xmlns="http://jessevdk.github.com/cldoc/1.0">
  <field id="plat::rpi::DmaControlBlock::TI" name="TI">
    <type name="uint32_t" />
  </field>
  <field id="plat::rpi::DmaControlBlock::SOURCE_AD" name="SOURCE_AD">
    <brief>transfer information</brief>
    <doc>31:27 unused
26    NO_WIDE_BURSTS
21:25 WAITS; number of cycles to wait between each DMA read/write operation
16:20 PERMAP(0x000Y0000); peripheral number to be used for DREQ signal (pacing). set to 0 for unpaced DMA.
12:15 BURST_LENGTH
11    SRC_IGNORE; set to 1 to not perform reads. Used to manually fill caches
10    SRC_DREQ; set to 1 to have the DREQ from PERMAP gate requests.
9     SRC_WIDTH; set to 1 for 128-bit moves, 0 for 32-bit moves
8     SRC_INC;   set to 1 to automatically increment the source address after each read (you'll want this if you're copying a range of memory)
7     DEST_IGNORE; set to 1 to not perform writes.
6     DEST_DREQ; set to 1 to have the DREQ from PERMAP gate *writes*
5     DEST_WIDTH; set to 1 for 128-bit moves, 0 for 32-bit moves
4     DEST_INC;   set to 1 to automatically increment the destination address after each read (Tyou'll want this if you're copying a range of memory)
3     WAIT_RESP; make DMA wait for a response from the peripheral during each write. Ensures multiple writes don't get stacked in the pipeline
2     unused (0)
1     TDMODE; set to 1 to enable 2D mode
0     INTEN;  set to 1 to generate an interrupt upon completion</doc>
    <type name="uint32_t" />
  </field>
  <field id="plat::rpi::DmaControlBlock::DEST_AD" name="DEST_AD">
    <brief>Source address</brief>
    <type name="uint32_t" />
  </field>
  <field id="plat::rpi::DmaControlBlock::TXFR_LEN" name="TXFR_LEN">
    <brief>Destination address</brief>
    <type name="uint32_t" />
  </field>
  <field id="plat::rpi::DmaControlBlock::STRIDE" name="STRIDE">
    <brief>transfer length.</brief>
    <doc>in 2D mode, TXFR_LEN is separated into two half-words to indicate Y transfers of length X, and STRIDE is added to the src/dest address after each transfer of length X.
30:31 unused
16-29 YLENGTH
0-15  XLENGTH</doc>
    <type name="uint32_t" />
  </field>
  <field id="plat::rpi::DmaControlBlock::NEXTCONBK" name="NEXTCONBK">
    <brief>2D Mode Stride (amount to increment/decrement src/dest after each 1d copy when in 2d mode). Only used if TI.TDMODE = 1</brief>
    <doc>16-31 D_STRIDE; signed (2's complement) byte increment/decrement to apply to destination addr after each XLENGTH transfer
0-15  S_STRIDE; signed (2's complement) byte increment/decrement to apply to source addr after each XLENGTH transfer</doc>
    <type name="uint32_t" />
  </field>
  <field id="plat::rpi::DmaControlBlock::_reserved" name="_reserved">
    <brief>Next control block. Must be 256-bit aligned (32 bytes; 8 words)</brief>
    <type size="2">
      <type name="uint32_t" />
    </type>
  </field>
</struct>
